-- CREATE TABLE INTO DATABASE --
CREATE TABLE STUDENT(
	STU_NUM INT PRIMARY KEY,
	STU_LNAME VARCHAR(255),
	STU_MAJOR VARCHAR(255),
	STU_CLASS VARCHAR(255),
	STU_HOURS INT,
	STU_GPA DECIMAL(10,2)
);

CREATE TABLE DEPARTMENT(
	DEPT_PHONE INT PRIMARY KEY,
	DEPT_CODE VARCHAR(255),
	DEPT_NAME VARCHAR(255)
);

CREATE TABLE ADVISOR(
	ADVISOR_ID INT PRIMARY KEY,
	ADVISOR_OFFICE VARCHAR(255),
	ADVISOR_PHONE INT,
	ADVISOR_LNAME VARCHAR(255),
	ADVISOR_BLDG VARCHAR(255)
);

CREATE TABLE UNIVERSITIES(
	STU_NUM INT,
	DEPT_PHONE INT,
	ADVISOR_ID INT,
	COLLEGE_NAME VARCHAR(255),
	PRIMARY KEY(STU_NUM, DEPT_PHONE, ADVISOR_ID),
	FOREIGN KEY (STU_NUM) REFERENCES STUDENT(STU_NUM) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (DEPT_PHONE) REFERENCES DEPARTMENT(DEPT_PHONE) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (ADVISOR_ID) REFERENCES ADVISOR(ADVISOR_ID) ON DELETE CASCADE ON UPDATE CASCADE
); 

-- INSERT DATA INTO DATABASE --

USE [University];

INSERT INTO STUDENT(
	STU_NUM,
	STU_LNAME,
	STU_MAJOR,
	STU_CLASS,
	STU_GPA,
	STU_HOURS
	
)
VALUES
( 211343, 'Stephanos', 'Accounting', 'Junior', 3.87, 75 ),
( 200128, 'Smith', 'Accounting', 'Sophomore', 2.78, 45 ),
( 199876, 'Jones', 'Marketing', 'Senior', 2.31, 117 ),
( 198648, 'Ortiz', 'Marketing', 'Senior', 3.45, 113 ),
( 223456, 'McKulski', 'Statistic', 'Junior', 3.58, 87 )

INSERT INTO ADVISOR(
	ADVISOR_ID,
	ADVISOR_OFFICE,
	ADVISOR_PHONE,
	ADVISOR_LNAME,
	ADVISOR_BLDG
)
VALUES
( 1, 'T201', 2115, 'Grastrand', 'Torres Building' ),
( 2, 'T228', 2123, 'Gentry', 'Torres Building' ),
( 3, 'T356', 2159, 'Tillery', 'Torres Building' ),
( 4, 'J331', 3209, 'Chen', 'Jones Building' )

INSERT INTO DEPARTMENT(
	DEPT_PHONE,
	DEPT_CODE,
	DEPT_NAME
)
VALUES
( 4356, 'ACCT', 'Accounting' ),
( 4378, 'MKTG', 'Marketing' ),
( 3420, 'MATH', 'Mathematic' )

INSERT INTO UNIVERSITIES(
	STU_NUM,
	DEPT_PHONE,
	ADVISOR_ID,
	COLLEGE_NAME
)
VALUES
( 211343, 4356, 1, 'Business Admin' ),
( 200128, 4356, 1, 'Business Admin' ),
( 199876, 4378, 2, 'Business Admin' ),
( 198648, 4378, 3, 'Business Admin' ),
( 223456, 3420, 4, 'Art & Sciences' )

/* INFO :
ADVISOR_ID = ADVISOR_OFFICE
1 = T201
2 = T228
3 = T356
4 = J331 */